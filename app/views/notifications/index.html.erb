<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-6 text-gray-800">通知</h1>

  <% if @notifications.any? %>
    <div class="mb-6">
      <%= button_to '全て既読にする', mark_as_read_notifications_path, method: :post, class: 'bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300' %>
    </div>

    <div class="bg-white shadow-md rounded-lg overflow-hidden">
      <% @notifications.each do |notification| %>
        <div class="notification p-4 border-b border-gray-200 <%= 'bg-blue-50' if notification.read_at.nil? %>">
          <div class="flex items-start">
            <div class="flex-shrink-0">
            </div>
            <div class="ml-3 flex-grow">
              <p class="text-sm font-medium text-gray-900">
                <%= link_to notification.actor.name, user_profile_path(notification.actor), class: "hover:underline" %>
                <% if notification.action == 'liked' %>
                  があなたのメッセージに「いいね」しました
                <% end %>
              </p>
              <p class="mt-1 text-sm text-gray-500">
                <%= time_ago_in_words(notification.created_at) %>前
              </p>
            </div>
            <% if notification.read_at.nil? %>
              <span class="ml-3 flex-shrink-0 inline-block px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded-full">
                新着
              </span>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="text-gray-600 text-center py-8">新しい通知はありません。</p>
  <% end %>
</div>
